<!doctype html>
<html>
<body>
    <br><br><br><br>

    <div class="panel panel-info">

        <div class="panel-heading"><b>HTTP REQUEST PHP BackEnd Example</b>
        </div>

        <div class="panel-body">
            <div class="panel panel-success">
                <div class="panel-heading"><b>Items</b></div>

                <div class="panel-body">

                    <!--Form referncing the HTTP controller-->
                    <div loading-indicator></div>

                    <div ng-controller="httpCtrl">

                        <form class="form-horizontal" role="form">
                            <div class="well">
                                <div class="form-group">
                                    <div class="col-sm-2">
                                        <label>Select an item id</label>
                                        <select class="form-control" ng-model="item_id">
                                            <option>12345</option>
                                            <option>12346</option>
                                            <option>12347</option>
                                        </select>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary" ng-click="requestItemMeta()">Submit</button> 
                            </div>      
                        </form>

                        <div data-ng-repeat="item in data.itm" ng-if="item.DB > 0">

                            <div class="panel panel-warning">
                                <div class="panel-heading"><b>Results</b></div>
                                <div class="panel-body">
                                    <!--Placeholder for the results-->
                                    <pre ng-model="result">{{data}}</pre>
                                    <hr>

                                    <table class="table table-striped table-bordered">
                                        <thead> 
                                            <tr>
                                                <th>Item ID</th>
                                                <th>Name</th>
                                                <th>Description</th>
                                                <th>Location</th>
                                                <th>Area</th>
                                                <th>Item Type</th>
                                                <th>Value type</th>
                                                <th>Origin</th>
                                                <th>Last Change</th>
                                                <th>Count</th>
                                                <th>DB</th>
                                                <th>Val Table</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr data-ng-repeat="item in data.itm | filter:searchText">
                                                <td>{{ item.ItemID }}</td>
                                                <td>{{ item.Name }}</td>
                                                <td>{{ item.Description }}</td>
                                                <td>{{ item.Location }}</td>
                                                <td>{{ item.Area }}</td>
                                                <td>{{ item.ItemType }}</td>
                                                <td>{{ item.ValueType }}</td>
                                                <td>{{ item.Origin }}</td>
                                                <td>{{ item.LastChange }}</td>
                                                <td>{{ item.Count }}</td>
                                                <td>{{ item.DB }}</td>
                                                <td>{{ item.ValTable }}</td>
                                            </tr>
                                        </tbody>
                                    </table>    
                                    <br>
                                    <div data-ng-repeat="exp in data.exp" ng-if="exp.exp_id > 0">
                                        <table class="table table-striped table-bordered">
                                            <thead> 
                                                <tr>
                                                    <th>Export Id</th>
                                                    <th>Name</th>
                                                    <th>Owner</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr data-ng-repeat="exp in data.exp | filter:searchText">
                                                    <td>{{ exp.exp_id }}</td>
                                                    <td>{{ exp.name }}</td>
                                                    <td>{{ exp.owner }}</td>
                                                </tr>
                                            </tbody>
                                        </table> 
                                    </div>
                                    <br>

                                    <div data-ng-repeat="seq in data.seq" ng-if="seq.seq_id > 0">
                                        <table class="table table-striped table-bordered">
                                         <thead> 
                                             <tr>
                                                 <th>Sequence Id</th>
                                                 <th>Start</th>
                                                 <th>End</th>
                                             </tr>
                                         </thead>
                                         <tbody>
                                             <tr data-ng-repeat="seq in data.seq | filter:searchText">
                                                 <td>{{ seq.seq_id }}</td>
                                                 <td>{{ seq.start_se }}</td>
                                                 <td>{{ seq.end_se }}</td>   
                                             </tr>
                                         </tbody>
                                     </table> 
                                 </div>   
                             </div>
                         </div>
                     </div>
                 </div>
             </div>
         </div>
     </div>
 </body>
 </html>






